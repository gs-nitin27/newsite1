var StoryBox={containerObject:{},containerPanels:[],settings:{displayEffect:["bounceInUp","bounceInRight","bounceInDown","bounceInLeft"]},namespace:"storybox",Init:function(t,e){this.namespace=this.namespace+"-"+parseInt(1e3*Math.random()),this.containerObject=t,this.settings=jQuery.extend(1,this.settings,e),this.setContainerPanels(),this.loadPanels()},setContainerPanels:function(){var t=this;this.containerObject.find("[data-sb]").each(function(){t.containerPanels[t.containerPanels.length]={container:jQuery(this),displayEffect:""==jQuery.trim(jQuery(this).attr("data-sb"))?t.settings.displayEffect:-1!=jQuery(this).attr("data-sb").indexOf(",")?jQuery(this).attr("data-sb").split(","):jQuery(this).attr("data-sb"),hideEffect:"undefined"!=typeof jQuery(this).attr("data-sb-hide")?""==jQuery.trim(jQuery(this).attr("data-sb-hide"))?t.settings.hideEffect:-1!=jQuery(this).attr("data-sb-hide").indexOf(",")?jQuery(this).attr("data-sb-hide").split(","):jQuery(this).attr("data-sb-hide"):!1},$(this).css("opacity",0)})},loadPanels:function(){var t=this;jQuery(window).bind("scroll."+this.namespace,function(){t._handleDisplay()}),t._handleDisplay()},_handleDisplay:function(){var t=jQuery(window).scrollTop()+window.innerHeight,e=this;jQuery.each(e.containerPanels,function(n,a){if(!a.container.hasClass("sb-effect-running"))if(t>=a.container.offset().top&&t<=a.container.offset().top+.7*a.container.height()+window.innerHeight){if(a.container.hasClass("sb-effect-displayed"))return;a.container.addClass("sb-effect-displayed sb-effect-running");var i=e._getRandomSettingElement(a.displayEffect);"undefined"!=typeof a.container.data("sb-effect")&&a.container.removeClass("animated "+a.container.data("sb-effect")),a.container.css("opacity",1),a.container.addClass("animated "+i),a.container.data("sb-effect",i),setTimeout(function(){a.container.removeClass("sb-effect-running")},1e3)}else if(a.container.hasClass("sb-effect-displayed")&&0!=a.hideEffect){a.container.removeClass("sb-effect-displayed animated "+a.container.data("sb-effect"));var i=e._getRandomSettingElement(a.hideEffect);a.container.addClass("animated "+i),a.container.data("sb-effect",i),a.container.css("opacity",1)}})},unLoadPanels:function(){var t=this;this.containerPanels.each(function(){jQuery(this).unbind(t.namespace)})},_getRandomSettingElement:function(t){return t instanceof Array?t[Math.floor(Math.random()*t.length)]:t}};jQuery(document).ready(function(){StoryBox.Init($("body"),{})});